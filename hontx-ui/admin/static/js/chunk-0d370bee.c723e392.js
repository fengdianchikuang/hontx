(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d370bee"],{"7cc8":function(e,t,n){"use strict";n("acd9")},8256:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n("b775");function a(e){return Object(r["a"])({url:"/policy/insrnc/"+e,method:"delete"})}function i(e){return Object(r["a"])({url:"/policy/insrnc",method:"put",data:e})}function l(e){return Object(r["a"])({url:"/policy/insrnc",method:"post",data:e})}},"865d":function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"k",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return m}));var r=n("b775");function a(){return Object(r["a"])({url:"/policy/query/getSize",method:"get"})}function i(e){return Object(r["a"])({url:"/policy/query/region",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/policy/query/detail/"+e,method:"post"})}function o(e){return Object(r["a"])({url:"/policy/query/updateList",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/policy/query/list",method:"get",params:e})}function u(e){return Object(r["a"])({url:"/policy/query/"+e,method:"get"})}function c(e){return Object(r["a"])({url:"/policy/query",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/policy/query",method:"put",data:e})}function f(e){return Object(r["a"])({url:"/policy/query/"+e,method:"delete"})}function d(e){return Object(r["a"])({url:"/policy/query/export",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/policy/query/freeInquiry/list",method:"get",params:e})}},acd9:function(e,t,n){},e94d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roles"},[n("div",[n("vxe-form",{attrs:{data:e.policy,"title-align":"right","title-width":"100","prevent-submit":"","title-colon":""}},[n("vxe-form-item",{attrs:{span:"24"}},[n("el-divider",{attrs:{"content-position":"center"}},[n("h1",{staticStyle:{color:"#5cacee"}},[e._v("基本信息")])])],1),n("vxe-form-item",{attrs:{title:"询价单号",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.queryId))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"询价时间",span:"12","title-prefix":{message:"请输入汉字！",icon:"fa fa-exclamation-circle"}},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.qcreateTime))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"保险公司",field:"sex",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e._f("companyFilter")(e.policy.channelId)))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"代理人",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.agentName))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"代理人联系电话",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.agentTel))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"机构地区",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.orgId))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{span:"24"},scopedSlots:e._u([{key:"default",fn:function(){return[n("el-divider",{attrs:{"content-position":"center"}},[n("h1",{staticStyle:{color:"#5cacee"}},[e._v("行驶证信息")])])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"车主",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.owner))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"车牌",field:"date",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.vehicleNo))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"车辆识别代码",field:"single",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.rackNo))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"品牌型号",field:"flagList",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.etBrand))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"具体车型",field:"flagList",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.brandCode))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"所属性质",field:"flagList",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e._f("filterUseType")(e.policy.useType)))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"使用性质",field:"flagList",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e._f("filterBelongType")(e.policy.belongType)))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"排气量",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.extMsr))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"核定载人数",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.setNum))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"整车质量",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.tonnage))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"初登日期",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.registerDate))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"是否过户",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e._f("filterChangeOwner")(e.policy.changeOwnerFlag)))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"过户时间",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.transferDate))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{span:"12",title:"驾驶证正本"},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"demo-image__preview"},[n("el-image",{staticStyle:{width:"250px",height:"250px"},attrs:{src:e.policy.url03,"preview-src-list":e.srcList}})],1)]},proxy:!0}])}),n("vxe-form-item",{attrs:{span:"12",title:"驾驶证副本本"},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"demo-image__preview"},[n("el-image",{staticStyle:{width:"250px",height:"250px"},attrs:{src:e.policy.url04,"preview-src-list":e.srcList}})],1)]},proxy:!0}])}),n("vxe-form-item",{attrs:{span:"24","item-render":{}}},[n("el-divider",{attrs:{"content-position":"center"}},[n("h1",{staticStyle:{color:"#5cacee"}},[e._v("投保人信息")])])],1),n("vxe-form-item",{attrs:{title:"投保人",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.applicantName))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"证件号码",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.applicantCertNo))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"投保人电话",field:"flagList",span:"8"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.applicantTel))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{span:"12",title:"身份证正面"},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"demo-image__preview"},[n("el-image",{staticStyle:{width:"250px",height:"250px"},attrs:{src:e.policy.url01,"preview-src-list":e.srcList}})],1)]},proxy:!0}])}),n("vxe-form-item",{attrs:{span:"12",tilte:"身份证背面"},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"demo-image__preview"},[n("el-image",{staticStyle:{width:"250px",height:"250px"},attrs:{src:e.policy.url02,"preview-src-list":e.srcList}})],1)]},proxy:!0}])}),n("vxe-form-item",{attrs:{span:"24","item-render":{}}},[n("el-divider",{attrs:{"content-position":"center"}},[n("h1",{staticStyle:{color:"#5cacee"}},[e._v("保险产品")])])],1),n("vxe-form-item",{attrs:{title:"代理人",field:"flagList",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.agentName))])]},proxy:!0}])}),n("vxe-form-item",{attrs:{title:"代理人电话",field:"flagList",span:"12"},scopedSlots:e._u([{key:"default",fn:function(){return[n("span",[e._v(e._s(e.policy.agentTel))])]},proxy:!0}])})],1)],1),n("div",[n("vxe-toolbar",{scopedSlots:e._u([{key:"buttons",fn:function(){return[n("vxe-button",{attrs:{icon:"fa fa-plus"},on:{click:function(t){return e.insertEvent()}}},[e._v("新增")])]},proxy:!0}])}),n("vxe-table",{ref:"xTable",attrs:{border:"",resizable:"","show-overflow":"","keep-source":"",data:e.tableData,"edit-config":{trigger:"manual",mode:"row"}}},[n("vxe-table-column",{attrs:{type:"checkbox",width:"60"}}),n("vxe-table-column",{attrs:{field:"insrncCode",title:"险种",width:"180","edit-render":{name:"$select",options:e.codeList}}}),n("vxe-table-column",{attrs:{field:"amount",title:"保险金额/赔偿限额(元）",width:"180","edit-render":{name:"input",attrs:{type:"text"}}},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.amount?n("div",[e._v(" 对应保险公司默认价格 ")]):n("div",[e._v(" "+e._s(t.row.amount)+" ")])]}}])}),n("vxe-table-column",{attrs:{field:"premium",title:"保费",width:"160","edit-render":{name:"input",attrs:{type:"text"}}}}),n("vxe-table-column",{attrs:{field:"nonDeductPremium",title:"不扣保险费",width:"120","edit-render":{name:"input",attrs:{type:"text"}}}}),n("vxe-table-column",{attrs:{field:"deductPremium",title:"扣除保险费",width:"120","edit-render":{name:"input",attrs:{type:"text"}}}}),n("vxe-table-column",{attrs:{field:"premium",title:"保费小计",width:"120","edit-render":{name:"input",attrs:{type:"number"}}}}),n("vxe-table-column",{attrs:{title:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e.$refs.xTable.isActiveByRow(r)?[n("vxe-button",{on:{click:function(t){return e.saveRowEvent(r)}}},[e._v("保存")]),n("vxe-button",{on:{click:function(t){return e.cancelRowEvent(r)}}},[e._v("取消")])]:[n("vxe-button",{on:{click:function(t){return e.editRowEvent(r)}}},[e._v("编辑")])]]}}])})],1)],1),n("div",[n("br"),n("br"),n("el-form",{attrs:{"label-position":e.labelPosition,model:e.policy,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"保费小计"}},[n("el-input",{attrs:{disabled:!e.changeFlag},nativeOn:{click:function(t){return e.handleClickPremium(t)}},model:{value:e.policy.premium,callback:function(t){e.$set(e.policy,"premium",t)},expression:"policy.premium"}})],1),n("el-form-item",{attrs:{label:"交强险保费"}},[n("el-input",{attrs:{disabled:!e.changeFlag},nativeOn:{click:function(t){return e.handleClickPremiumJq(t)}},model:{value:e.policy.premiumJq,callback:function(t){e.$set(e.policy,"premiumJq",t)},expression:"policy.premiumJq"}})],1),n("el-form-item",{attrs:{label:"车船税"}},[n("el-input",{attrs:{disabled:!e.changeFlag},model:{value:e.policy.tax,callback:function(t){e.$set(e.policy,"tax",t)},expression:"policy.tax"}})],1),n("el-form-item",{attrs:{label:"返回意见"}},[n("el-input",{attrs:{type:"textarea",disabled:!e.changeFlag},model:{value:e.policy.content,callback:function(t){e.$set(e.policy,"content",t)},expression:"policy.content"}})],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{attrs:{type:"textarea",disabled:!e.changeFlag},model:{value:e.policy.remark,callback:function(t){e.$set(e.policy,"remark",t)},expression:"policy.remark"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.changeFlag,expression:"changeFlag"}]},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("驳回")]),n("el-button",{attrs:{type:"primary"},on:{click:e.returnSubmit}},[e._v("下一步(已询价)")]),n("el-button",{on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回")])],1)],1)],1)],1)])},a=[],i=n("1da1"),l=(n("96cf"),n("a9e3"),n("b0c0"),n("865d")),o=n("8256"),s={name:"component-roles",components:{},filters:{filterUseType:function(e){var t={"00":"个人","01":"企业",101:"家庭自用车",102:"企业",103:"党政机关，事业团体",199:"其他非营业车辆",201:"出租客车",202:"城市公交",203:"公路客运",204:"旅游客运",205:"租赁客车",206:"营业货车",211:"其他营业车辆"};return t[e]},companyFilter:function(e){var t={"00":"华安保险","01":"中华保险","02":"太平洋保险","03":"平安保险","04":"人保保险","05":"诚泰保险","06":"人寿保险","07":"大地保险","08":"长安保险","09":"平安众安联合车险",10:"国任财险",11:"阳光保险",12:"天安财险",13:"太平财险",14:"紫金财险",15:"亚太财险",16:"天平保险",17:"永诚保险",18:"华泰保险",19:"永安保险",20:"大家保险",21:"中银保险",22:"都邦保险",23:"安城保险",24:"渤海保险",1:"平安",2:"太平洋",31:"人保",57:"中国人寿",54:"亚太"};return t[e]},filterChangeOwner:function(e){var t={0:"是",1:"否"};return t[e]},filterBelongType:function(e){var t={"00":"非营运","01":"营运"};return t[e]}},data:function(){return{changeFlag:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},policy:{},tableData:[],flgList:[{label:"",value:""},{label:"0",value:"否"},{label:"1",value:"是"}],glassList:[{label:"",value:""},{label:"国产",value:"00"},{label:"进口",value:"01"}],codeList:[{label:"",value:""},{label:"交强险",value:"000"},{label:"第三者责任险",value:"001"},{label:"司机责任险",value:"002"},{label:"乘客责任险",value:"003"},{label:"盗抢险",value:"004"},{label:"车上货物险",value:"005"},{label:"精神损害抚慰金责任险",value:"006"},{label:"车损险",value:"007"},{label:"玻璃险",value:"008"},{label:"自燃险",value:"009"},{label:"划痕线",value:"010"},{label:"涉水险",value:"011"},{label:"无法找到第三方险",value:"012"},{label:"指定专修险",value:"013"},{label:"驾意险",value:"100"},{label:"机动车损失险",value:"a100"},{label:"第三方责任险",value:"a101"},{label:"司机责任险",value:"a102"},{label:"乘客责任险",value:"a103"},{label:"绝对免赔率(车损)",value:"a104"},{label:"绝对免赔率(三者)",value:"a105"},{label:"绝对免赔率(司机)",value:"a106"},{label:"绝对免赔率(乘客)",value:"a107"},{label:"车轮损失险",value:"a108"},{label:"车身划痕险",value:"a109"},{label:"修理补偿险",value:"a110"},{label:"发动机损坏除外特约",value:"a111"},{label:"三者险节假日翻倍险",value:"a112"},{label:"精神抚慰金险(三者)",value:"a113"},{label:"精神抚慰金险(司机)",value:"a114"},{label:"精神抚慰金险(乘客)",value:"a115"},{label:"医保外用药险(三者)",value:"a116"},{label:"医保外用药险(司机)",value:"a117"},{label:"医保外用药险(乘客)",value:"a118"},{label:"道路救援险",value:"a119"},{label:"车辆安全检测",value:"a120"},{label:"代为驾驶服务",value:"a121"},{label:"代为送检服务",value:"a122"}],srcList:[],formInline:{user:"",region:""},formData:{queryId:"",insrncCode:"",glassType:"",amount:"",franchiseFlag:"",beforePremium:"",premium:"",nonDeductPremium:"",deductPremium:"",quantity:"",unitAmount:""},gridOptions:{border:!0,resizable:!0,keepSource:!0,showOverflow:!0,height:530,loading:!1,pagerConfig:{total:0,currentPage:1,pageSize:10,pageSizes:[10,20,50,100,200,500]},editConfig:{trigger:"manual",mode:"row",showStatus:!0,icon:"fa fa-file-text-o"},data:[]}}},created:function(){this.handlePolicyById()},methods:{handleClickPremiumJq:function(){if(this.policy.queryInsrnc)for(var e=0;e<this.policy.queryInsrnc.length;e++)"000"===this.policy.queryInsrnc[e].insrncCode&&(this.policy.premiumJq=this.policy.queryInsrnc[e].premium);else this.policy.premiumJq="0"},handleClickPremium:function(){if(this.policy.queryInsrnc){for(var e=0,t=0,n=0;n<this.policy.queryInsrnc.length;n++)this.policy.queryInsrnc[n]&&(e+=Number(this.policy.queryInsrnc[n].premium),"000"!==this.policy.queryInsrnc[n].insrncCode&&(t+=Number(this.policy.queryInsrnc[n].premium)));this.policy.premium=e,this.policy.premiumSy=t}else this.policy.premium="0"},returnSubmit:function(){var e=this;this.policy.status="02",Object(l["k"])(this.policy).then((function(t){200==t.code?(e.$message({message:"修改成功",type:"success"}),e.$router.go(-1)):e.$message.error("修改失败")}))},onSubmit:function(){var e=this;this.policy.status="10",Object(l["k"])(this.policy).then((function(t){200==t.code?(e.$message({message:"修改成功",type:"success"}),e.$router.go(-1)):e.$message.error("修改失败")}))},editRowEvent:function(e){this.$refs.xTable.setActiveRow(e)},saveRowEvent:function(e){var t=this;this.$refs.xTable.clearActived().then((function(){t.loading=!0,e.qId?Object(o["c"])(e).then((function(e){200==e.code?t.$message({type:"success",message:"修改成功"}):t.$message.error("修改失败")})):Object(o["a"])(e).then((function(e){2e3==e.code?t.$message({type:"success",message:"新增成功"}):t.$message.error("新增失败")}))}))},cancelRowEvent:function(e){console.log("取消数九",e);var t=this.$refs.xTable;t.clearActived().then((function(){t.revertData(e)}))},insertEvent:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={queryId:null!=t.tableData[0].queryId?t.tableData[0].queryId:(new Date).getTime()+(Math.random()+1)*Math.pow(10,4),insrncCode:"",glassType:"",amount:"",franchiseFlag:"",beforePremium:"",premium:"",nonDeductPremium:"",deductPremium:"",quantity:"",unitAmount:""},n.next=3,t.$refs.xTable.insertAt(r,e);case 3:return a=n.sent,i=a.row,n.next=7,t.$refs.xTable.setActiveCell(i,"sex");case 7:case"end":return n.stop()}}),n)})))()},handlePolicyById:function(){var e=this;"freeEdit"===this.$route.name?this.changeFlag=!0:this.changeFlag=!1;var t=this.$route.params.queryId;Object(l["d"])(t).then((function(t){200==t.code?(e.policy=t.data,e.srcList.push(t.data.url01),e.srcList.push(t.data.url02),e.srcList.push(t.data.url03),e.srcList.push(t.data.url04),e.tableData=t.data.queryInsrnc):e.$message.error("获取信息失败")}))}}},u=s,c=(n("7cc8"),n("2877")),p=Object(c["a"])(u,r,a,!1,null,null,null);t["default"]=p.exports}}]);